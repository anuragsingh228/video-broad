<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/1.7.3/socket.io.js"></script>

<textarea id="broadcastMessage"></textarea>
<button id="broadcastButton">Broadcast</button>
<div id="output"></div>

<script>
  // Make connection
  var socket = io.connect('http://localhost:4000');

  // Query DOM
  var output = document.getElementById("output");
  var broadcastMessage = document.getElementById('broadcastMessage'),
    broadcastButton = document.getElementById('broadcastButton');

  // Emit events
  socket.on('broadcast', function (data) {
    output.innerHTML += '<p><a href=' + data.broadcast_link + ': >clickme</a></strong></p>';
  });

  broadcastButton.addEventListener('click', function () {
    socket.emit('broadcastMessage', {
      message: broadcastMessage.value
    });
    broadcastMessage.value = "";
  });

</script>